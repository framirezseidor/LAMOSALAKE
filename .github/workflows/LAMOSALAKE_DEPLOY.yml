name: Lamosa lake deploy

on:
  push:
    branches:
      - development
 
jobs:
  preparacion:
    runs-on: ubuntu-latest
    
    env:
      ORIGIN_PREFIX: "SQ1_"
      PROD_PREFIX: "SP1_"

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Reemplazar prefijo para producci√≥n
        run: |
          echo "Reemplazando prefijo en los archivos SQL"
          find . -type f -iname '*.sql' -print0 \
          | xargs -0 -r sed -i -E "s/\b${ORIGIN_PREFIX}/${PROD_PREFIX}/g"
          echo "Estoy en: $(pwd)"
          echo "Cantidad de .sql encontrados: $(find . -type f -iname '*.sql' | wc -l)"
      
       

        
        