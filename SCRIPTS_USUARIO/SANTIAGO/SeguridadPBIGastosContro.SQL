SELECT * FROM MIRRORING.SEG_USUARIO_ROLE;
SELECT * FROM MIRRORING.SEG_ROLE_DIMENSION;
SELECT * FROM MIRRORING.SEG_USUARIO_DIMENSION;

-- 'alteryx.macros@grupolamosa.com'
-- 'test.pbi@grupolamosa.com'

SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';

INSERT INTO MIRRORING.SEG_USUARIO_ROLE
(USER_MAIL,ROLE_NM) VALUES                -- ASIGNACIÓN DE ROLE A MI USUARIO
('test.pbi@grupolamosa.com','RLS_FIN_ADH_CARTERA');
------------------------------------------------------------------
------------------------------------------------------------------

-- Validar acceso sin roles asignados
--RLS_FIN_GASTOSCONTROLPRES


SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'raquel.cantu@crest.com.mx';
DELETE FROM MIRRORING.SEG_USUARIO_ROLE
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';        -- BORRAR ROLES ASIGNADOS A MI USUARIO

--RLS_FIN_ADH_CARTERA
------------------------------------------------------------------
------------------------------------------------------------------

-- Rol SAP_ROLE asignado

SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'raquel.cantu@crest.com.mx';
INSERT INTO MIRRORING.SEG_USUARIO_ROLE
(USER_MAIL,ROLE_NM) VALUES                -- ASIGNACIÓN DE ROLE A MI USUARIO
('raquel.cantu@crest.com.mx','RLS_FIN_GASTOSCONTROLPRES');
DELETE FROM MIRRORING.SEG_USUARIO_ROLE  -- ELIMINAR ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'marco.tenorio@crest.com.mx';



------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Un rol asignado con la dimensión y un valor de dimensión

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'RLS_FIN_GASTOSCONTROLPRES';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('RLS_FIN_GASTOSCONTROLPRES','SOCIEDAD_ID','ALL'),
('RLS_FIN_GASTOSCONTROLPRES','CENTROCOSTO_ID','ALL');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'GASTOSCONTROL_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE


-- REV
-- Un rol asignado con la dimensión y un valor de dimensión

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_REV_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AEX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_REV_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE



------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Un rol asignado con la dimensión y diferentes valores de dimensión

SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'alteryx.macros@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_ROLE
(USER_MAIL,ROLE_NM) VALUES                -- ASIGNACIÓN DE ROLE A MI USUARIO
('test.pbi@grupolamosa.com','GASTOSCONTROL_ROLE');
SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'GASTOSCONTROL_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('GASTOSCONTROL_ROLE','SOCIEDAD_ID','A101'),
('GASTOSCONTROL_ROLE','SOCIEDAD_ID','A102'),
('GASTOSCONTROL_ROLE','SOCIEDAD_ID','A103'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A401011146'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A402011140'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A402021150'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A415086401'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A415086410'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A415086430'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A433046440'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A433086410'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','CAGL_A433110001');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'GASTOSCONTROL_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE



-- REV
-- Un rol asignado con la dimensión y diferentes valores de dimensión

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_REV_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_REV_ROLE','SOCIEDAD_ID','A102'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','IN'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AEX1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AGU1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMR1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','RPTA'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_REV_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE 



------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Un rol asignado con la dimensión y un valor inexistente

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_ADH_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_ADH_ROLE','SOCIEDAD_ID','A102'),
('CARTERA_ADH_ROLE','SOCIEDAD_ID','A104'),    ----- <---- VALOR DE SOCIEDAD A104 INEXISTENTE
('CARTERA_ADH_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_ADH_ROLE','CANALDISTRIBUCION_ID','IN'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AEX1'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AGU1'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AMR1'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','RPTA'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AMX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE



-- REV
-- Un rol asignado con la dimensión y un valor inexistente

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_REV_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_REV_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_REV_ROLE','SOCIEDAD_ID','A102'),
('CARTERA_REV_ROLE','SOCIEDAD_ID','A104'),    ----- <---- VALOR DE SOCIEDAD A104 INEXISTENTE
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','IN'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AEX1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AGU1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMR1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','RPTA'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_REV_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE



------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Dimensión asignada a Role con valor ALL

SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_ROLE
(USER_MAIL,ROLE_NM) VALUES                -- ASIGNACIÓN DE ROLE A MI USUARIO
('test.pbi@grupolamosa.com','GASTOSCONTROL_ROLE');

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'GASTOSCONTROL_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('GASTOSCONTROL_ROLE','SOCIEDAD_ID','ALL'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','ALL');

DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'GASTOSCONTROL_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE


-- REV
-- Dimensión asignada a Role con valor ALL

SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_ROLE
(USER_MAIL,ROLE_NM) VALUES                -- ASIGNACIÓN DE ROLE A MI USUARIO
('test.pbi@grupolamosa.com','CARTERA_ADH_ROLE');

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_REV_ROLE','SOCIEDAD_ID','ALL'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','ALL'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','ALL');

DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_REV_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE



------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Validar acceso con dimensión asignada a usario con valor 'ALL'

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_ADH_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_ADH_ROLE','SOCIEDAD_ID','A102'),
('CARTERA_ADH_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_ADH_ROLE','CANALDISTRIBUCION_ID','IN'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AEX1'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AMR1'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AMX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE

SELECT *
FROM MIRRORING.SEG_USUARIO_DIMENSION       -- DIMENSIONES EXISTENTES DEL USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_DIMENSION
(USER_MAIL,DIM,VALOR) VALUES
('test.pbi@grupolamosa.com','SOCIEDAD_ID','A101'),
('test.pbi@grupolamosa.com','SOCIEDAD_ID','A103'),
('test.pbi@grupolamosa.com','CENTROCOSTO_ID','CAGL_A401011146'),
('test.pbi@grupolamosa.com','CENTROCOSTO_ID','CAGL_A402011140'),
('test.pbi@grupolamosa.com','CENTROCOSTO_ID','CAGL_A433086410'),
('test.pbi@grupolamosa.com','CENTROCOSTO_ID','CAGL_A433110001');

DELETE FROM MIRRORING.SEG_USUARIO_DIMENSION
WHERE USER_MAIL = 'test.pbi@grupolamosa.com'; 


------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Dimensión asignada a Role con valor ALL

SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_ROLE
(USER_MAIL,ROLE_NM) VALUES                -- ASIGNACIÓN DE ROLE A MI USUARIO
('test.pbi@grupolamosa.com','CARTERA_ADH_ROLE');

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_ADH_ROLE','SOCIEDAD_ID','ALL'),
('CARTERA_ADH_ROLE','CANALDISTRIBUCION_ID','ALL'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','ALL');

DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE


-- REV
-- Dimensión asignada a Role con valor ALL

SELECT *
FROM MIRRORING.SEG_USUARIO_ROLE         -- ROLES ASIGNADOS A MI USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_ROLE
(USER_MAIL,ROLE_NM) VALUES                -- ASIGNACIÓN DE ROLE A MI USUARIO
('test.pbi@grupolamosa.com','CARTERA_ADH_ROLE');

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_REV_ROLE','SOCIEDAD_ID','ALL'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','ALL'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','ALL');

DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_REV_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE





------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Validar acceso con dimensión asignada a usario con un valor

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_ADH_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_ADH_ROLE','SOCIEDAD_ID','A102'),
('CARTERA_ADH_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_ADH_ROLE','CANALDISTRIBUCION_ID','IN'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AEX1'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AMR1'),
('CARTERA_ADH_ROLE','OFICINAVENTAS_ID','AMX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_ADH_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE

SELECT *
FROM MIRRORING.SEG_USUARIO_DIMENSION       -- DIMENSIONES EXISTENTES DEL USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_DIMENSION
(USER_MAIL,DIM,VALOR) VALUES
('test.pbi@grupolamosa.com','SOCIEDAD_ID','A101'),
('test.pbi@grupolamosa.com','CANALDISTRIBUCION_ID','EX'),
('test.pbi@grupolamosa.com','OFICINAVENTAS_ID','AEX1');
DELETE FROM MIRRORING.SEG_USUARIO_DIMENSION
WHERE USER_MAIL = 'test.pbi@grupolamosa.com'; 



-- REV
-- Validar acceso con dimensión asignada a usario con un valor

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_REV_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_REV_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_REV_ROLE','SOCIEDAD_ID','A102'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','IN'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AEX1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMR1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_REV_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE

SELECT *
FROM MIRRORING.SEG_USUARIO_DIMENSION       -- DIMENSIONES EXISTENTES DEL USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_DIMENSION
(USER_MAIL,DIM,VALOR) VALUES
('test.pbi@grupolamosa.com','SOCIEDAD_ID','A101'),
('test.pbi@grupolamosa.com','CANALDISTRIBUCION_ID','EX'),
('test.pbi@grupolamosa.com','OFICINAVENTAS_ID','AEX1');
DELETE FROM MIRRORING.SEG_USUARIO_DIMENSION
WHERE USER_MAIL = 'test.pbi@grupolamosa.com'; 




------------------------------------------------------------------
------------------------------------------------------------------

-- ADH
-- Validar acceso con dimensión asignada a usario con varios valores

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'GASTOSCONTROL_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('GASTOSCONTROL_ROLE','SOCIEDAD_ID','ALL'),
('GASTOSCONTROL_ROLE','CENTROCOSTO_ID','ALL');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'GASTOSCONTROL_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE

SELECT *
FROM MIRRORING.SEG_USUARIO_DIMENSION       -- DIMENSIONES EXISTENTES DEL USUARIO
WHERE USER_MAIL = 'alteryx.macros@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_DIMENSION
(USER_MAIL,DIM,VALOR) VALUES
('alteryx.macros@grupolamosa.com','SOCIEDAD_ID','A101'),
('alteryx.macros@grupolamosa.com','SOCIEDAD_ID','A102'),
('alteryx.macros@grupolamosa.com','SOCIEDAD_ID','A103'),
('alteryx.macros@grupolamosa.com','CENTROCOSTO_ID','CAGL_A401011146'),
('alteryx.macros@grupolamosa.com','CENTROCOSTO_ID','CAGL_A415086401'),
('alteryx.macros@grupolamosa.com','CENTROCOSTO_ID','CAGL_A433046440');
DELETE FROM MIRRORING.SEG_USUARIO_DIMENSION
WHERE USER_MAIL = 'alteryx.macros@grupolamosa.com'; 



-- REV
-- Validar acceso con dimensión asignada a usario con varios valores

SELECT *
FROM MIRRORING.SEG_ROLE_DIMENSION       -- DIMENSIONES EXISTENTES DEL ROLE
WHERE ROLE_NM = 'CARTERA_REV_ROLE';
INSERT INTO MIRRORING.SEG_ROLE_DIMENSION        -- ASIGNAR DIMENSIONES Y VALORES A ROLE
(ROLE_NM,DIMENSION_NM,VALOR) VALUES
('CARTERA_REV_ROLE','SOCIEDAD_ID','A101'),
('CARTERA_REV_ROLE','SOCIEDAD_ID','A102'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','EX'),
('CARTERA_REV_ROLE','CANALDISTRIBUCION_ID','IN'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AEX1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMR1'),
('CARTERA_REV_ROLE','OFICINAVENTAS_ID','AMX1');
DELETE FROM MIRRORING.SEG_ROLE_DIMENSION
WHERE ROLE_NM = 'CARTERA_REV_ROLE';      -- ELIMINAR DIMENSIONES Y VALORES ASIGNADOS A ROLE

SELECT *
FROM MIRRORING.SEG_USUARIO_DIMENSION       -- DIMENSIONES EXISTENTES DEL USUARIO
WHERE USER_MAIL = 'test.pbi@grupolamosa.com';
INSERT INTO MIRRORING.SEG_USUARIO_DIMENSION
(USER_MAIL,DIM,VALOR) VALUES
('test.pbi@grupolamosa.com','SOCIEDAD_ID','A101'),
('test.pbi@grupolamosa.com','SOCIEDAD_ID','A102'),
('test.pbi@grupolamosa.com','CANALDISTRIBUCION_ID','EX'),
('test.pbi@grupolamosa.com','OFICINAVENTAS_ID','AEX1'),
('test.pbi@grupolamosa.com','OFICINAVENTAS_ID','AMR1');
DELETE FROM MIRRORING.SEG_USUARIO_DIMENSION
WHERE USER_MAIL = 'test.pbi@grupolamosa.com'; 